{% load static %}
<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>AIS - A.I Interview Simulator</title>

    <!-- jQuery Import -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Bootstrap core CSS -->
    <link href='{%static "vendor/bootstrap/css/bootstrap.min.css" %}' rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.0/animate.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href='{%static "vendor/font-awesome/css/font-awesome.min.css" %}' rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>


    <!-- Custom styles for this template -->
    <link href='{%static "css/agency.min.css" %}' rel="stylesheet">
    <script src='{%static "js/stt.js" %}'></script>

    <style>
        .glyphicon-exclamation-sign:before {
            content: "\e101"
        }

        body {
            width: 1px;
            min-width: 100%;
            *width: 100%;
        }

        .switch input {
            display: none;
        }

        .switch {
            display: inline-block;
            width: 60px;
            height: 30px;
            margin: 8px;
            transform: translateY(50%);
            position: relative;
        }

        .slider {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            border-radius: 30px;
            box-shadow: 0 0 0 2px #777, 0 0 4px #777;
            cursor: pointer;
            border: 4px solid transparent;
            overflow: hidden;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            width: 100%;
            height: 100%;
            background: #777;
            border-radius: 30px;
            transform: translateX(-30px);
            transition: .4s;
        }

        input:checked+.slider:before {
            transform: translateX(30px);
            background: Red;
        }

        input:checked+.slider {
            box-shadow: 0 0 0 2px Red, 0 0 2px limeGreen;
        }

        .progress-bar-vertical {
            width: 20px;
            min-height: 100px;
            display: flex;
            align-items: flex-end;
            margin-right: 20px;
            float: left;
        }

        .progress-bar-vertical .progress-bar {
            width: 100%;
            height: 0;
            -webkit-transition: height 0.02s ease;
            -o-transition: height 0.02s ease;
            transition: height 0.02s ease;
        }

        .entry:not(:first-of-type) {
            margin-top: 10px;
        }

        .glyphicon {
            font-size: 12px;
        }

        #gum {
            -o-transform: scaleX(-1);
            -webkit-transform: scaleX(-1);
            transform: scaleX(-1);
            -ms-filter: fliph;
            /*IE*/
            filter: fliph;
            /*IE*/
        }

        /* The side navigation menu */

        .sidenav {
            height: 100%;
            /* 100% Full-height */
            width: 0;
            /* 0 width - change this with JavaScript */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Stay on top */
            top: 0;
            /* Stay at the top */
            left: 0;
            background-color: #111;
            /* Black*/
            overflow-x: hidden;
            /* Disable horizontal scroll */
            padding-top: 60px;
            /* Place content 60px from the top */
            transition: 0.1s;
            /* 0.5 second transition effect to slide in the sidenav */
        }

        /* The navigation menu links */

        .sidenav a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }

        /* When you mouse over the navigation links, change their color */

        .sidenav a:hover {
            color: #f1f1f1;
        }

        /* Position and style the close button (top right corner) */

        .sidenav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        /* Style page content - use this if you want to push the page content to the right when you open the side navigation */

        #main {
            transition: margin-left .5s;
            padding: 20px;
        }

        /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */

        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }
            .sidenav a {
                font-size: 18px;
            }
        }
    </style>

    <script>
        var ques_id = {{ ques_id | safe }};
        var ques_text = {{ ques_text | safe}};
    </script>
    <script>
        var final_transcript = "";
        function startSpeechToText() {
            final_transcript = "";
            annyang.start({ autoRestart: true, continuous: true });
            var recognition = annyang.getSpeechRecognizer();
            recognition.interimResults = true;
            recognition.onresult = function (event) {
                for (var i = event.resultIndex; i < event.results.length; ++i) {
                    if (event.results[i].isFinal) {
                        final_transcript += " " + event.results[i][0].transcript;
                        console.log("final_transcript=" + final_transcript);
                        //annyang.trigger(final_transcript); //If the sentence is "final" for the Web Speech API, we can try to trigger the sentence
                    }
                }
            };
        }
        function stopSpeechToText() {
            annyang.abort();
        }
    </script>
</head>

<body id="page-top" style="background-color: #ECECEA">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg" style="height: 75px;background-color: rgb(44,62,80); text-transform: none" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="/interviews/" style="color: white;">AIS</a>
            <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse"
                data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fa fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive" style="background-color: rgb(44,62,80);">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item mx-0 mx-lg-1">
                        <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="/interviews/training/hw-check/">Practice</a>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1">
                        <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="/interviews/test/hw-check/">Test</a>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1">
                        <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="/interviews/record">Record</a>
                    </li>
                    <li class="nav-item mx-0 mx-lg-1">
                        <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="/member/logout/">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">

    <div style="width: 20%; height: 700px; float: left; margin-left: 50px; -webkit-box-align:center; -webkit-box-pack:center; display:-webkit-box;">

    </div>

    <div style="width: 55%; height: 700px; margin-top: -40px;float: left; -webkit-box-align:center; -webkit-box-pack:center; display:-webkit-box;">
        <video style="border: 1px solid black; align-items: center;" id="gum" width="720" height="540" autoplay muted></video>
        <canvas id="snapshot" width="720" height="540" style="display: none;"></canvas>

        <br>
        <button type="button" id="camOnOff" class="btn btn-danger">카메라 OFF</button>
        <button type="button" id="record" class="btn btn-primary" disabled>면접 시작</button>
        <button type="button" id="finInterview" class="btn btn-success" style="text-align: right; display: none;" onclick="window.location.href='{% url 'testResult' ic=interview_count %}'"
            disabled>결과 보기</button>
        <div style="width: inherit;">
            <h4 id="question">시작 버튼을 누르시면 질문이 표시됩니다.</h4>
            <p id="timer">00:00</p>
        </div>

    </div>

    <div style="width: 20%; height: 700px; float: left; -webkit-box-align:center; -webkit-box-pack:center; display:-webkit-box;">

    </div>

    <!-- Footer -->
    <div style="text-align: center;">
        <div style="width: 33.3%; height: 150px; float: left; background-color: rgb(44,62,80);">
            <br>
            <a style="color:white; font-size: 24px; font-weight: bold">Copyright</a>
            <br>
            <br>
            <a style="color: white; font-size: 18px;">&copy; 2018 Human Learning. &nbsp; All Rights Reserved </a>
        </div>
        <div style="width: 33.3%; height: 150px; float: left; background-color: rgb(44,62,80);">
            <br>
            <a style="color:white; font-size: 24px;  font-weight: bold">About Us&nbsp; </a>
            <br>
            <br>
            <a href="https://github.com/daegweon/ai_interview_simulator">
                <i style="color: white; font-size:30px" class="fa">&#xf09b;</i>
            </a>
            <a> &nbsp; &nbsp; </a>
            <a>
                <i style="color: white; font-size:30px;" class="fa">&#xf08c;</i>
            </a>
            <a> &nbsp; &nbsp; </a>
            <a href="#">
                <i style="color: white; font-size:30px;" class="fa">&#xf0d5;</i>
            </a>
            <br>
            <br>
        </div>
        <div style="width: 33.3%; height: 150px; float: left; background-color: rgb(44,62,80);">
            <br>
            <a style="color:white; font-size: 24px; font-weight: bold">Contact Us&nbsp; </a>
            <br>
            <br>
            <a style="color: white; font-size: 18px;">quwieo@ajou.ac.kr</a>
        </div>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src='{%static "vendor/jquery/jquery.min.js" %}'></script>
    <script src='{%static "vendor/bootstrap/js/bootstrap.bundle.min.js" %}'></script>

    <!-- Plugin JavaScript -->
    <script src='{%static "vendor/jquery-easing/jquery.easing.min.js" %}'></script>

    <!-- Custom scripts for this template -->
    <script src='{%static "js/agency.min.js" %}'></script>
    <script src='{%static "js/interviewTest.js" %}'></script>
    <script>
        getKey();
    </script>

</body>

</html>